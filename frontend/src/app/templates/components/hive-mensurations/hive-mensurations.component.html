<div class="overflow-hidden">
    <div class="row my-3">
        <div class="col-12 col-md-3">
            <mat-form-field appearance="outline" class="w-100" style="margin-bottom: -1.25em;">
                <mat-label>Buscar</mat-label>
                <input matInput [(ngModel)]="filterDate" [matDatepicker]="pickerData" placeholder="Data" readonly>
                <mat-datepicker-toggle matIconSuffix [for]="pickerData"></mat-datepicker-toggle>
                <mat-datepicker #pickerData (closed)="search()"></mat-datepicker>
            </mat-form-field>
        </div>
    </div>
    
    <div class="row mb-3" [hidden]="(dataSource && dataSource.data.length == 0) || isLoadingResults">
        <div class="col-12">
            <div class="table-responsive">
                <table mat-table [dataSource]="dataSource" class="w-100 border" matSort matSortActive="createdDate" matSortDisableClear matSortDirection="desc" (matSortChange)="sortChange()">
    
                    <!-- Index Column -->
                    <ng-container matColumnDef="index">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-index">#</th>
                        <td mat-cell *matCellDef="let mensuration; let i = index">{{i+1}}</td>
                    </ng-container>
    
                    <!-- Created Date Column -->
                    <ng-container matColumnDef="createdDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-createdDate">Data</th>
                        <td mat-cell *matCellDef="let mensuration" class="text-center">{{mensuration.createdDate | date: 'dd/MM/yyyy HH:mm'}}</td>
                    </ng-container>
    
                    <!-- Temperature Column -->
                    <ng-container matColumnDef="temperature">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-temperature">Temperatura (°C)</th>
                        <td mat-cell *matCellDef="let mensuration" class="text-center">{{mensuration.temperature}}</td>
                    </ng-container>
    
                    <!-- Humidity Column -->
                    <ng-container matColumnDef="humidity">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-humidity">Umidade (%)</th>
                        <td mat-cell *matCellDef="let mensuration" class="text-center">{{mensuration.humidity}}</td>
                    </ng-container>
    
                    <!-- Weight Column -->
                    <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="col-weight">Peso (Kg)</th>
                        <td mat-cell *matCellDef="let mensuration" class="text-center">{{mensuration.weight}}</td>
                    </ng-container>
    
                    <tr mat-header-row *matHeaderRowDef="columns"></tr>
                    <tr mat-row *matRowDef="let row; columns: columns;"></tr>
                </table>
    
                <mat-paginator [length]="resultsLength" [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons class="w-100" (page)="pageChange()"></mat-paginator>
            </div>
        </div>
    </div>
    
    <div class="row mb-3" [hidden]="(dataSource && dataSource.data.length == 0) || isLoadingResults">
        <div class="col-12">
            <canvas baseChart class="chart" [data]="lineChartDataTemperature" [options]="lineChartOptions" [type]="lineChartType"></canvas>
        </div>
    </div>
    
    <div class="row mb-3" [hidden]="(dataSource && dataSource.data.length == 0) || isLoadingResults">
        <div class="col-12">
            <canvas baseChart class="chart" [data]="lineChartDataHumidity" [options]="lineChartOptions" [type]="lineChartType"></canvas>
        </div>
    </div>
    
    <div class="row mb-3" [hidden]="(dataSource && dataSource.data.length == 0) || isLoadingResults">
        <div class="col-12">
            <canvas baseChart class="chart" [data]="lineChartDataWeight" [options]="lineChartOptions" [type]="lineChartType"></canvas>
        </div>
    </div>
    
    <div class="row" *ngIf="isLoadingResults">
        <div class="col-12">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            <p class="text-center pt-3">Obtendo dados</p>
        </div>
    </div>
    
    <div [hidden]="(dataSource && dataSource.data.length > 0) || isLoadingResults">
        <div class="row">
            <div class="col-12">
                <div class="text-center">
                    <img src="/assets/images/bee.png" width="100px">
                </div>
            </div>
        </div>
    
        <div class="row">
            <div class="col-12">
                <div class="text-center">
                    <h2 class="m-0">Não há dados a serem exibidos!</h2>
                </div>
            </div>
        </div>
    </div>
</div>